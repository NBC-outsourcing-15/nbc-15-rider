<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë¡œê·¸ì¸ í˜ì´ì§€</title>
</head>
<body>
<h1>ğŸ” ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸</h1>

<form id="loginForm">
  <label>
    ì´ë©”ì¼:
    <input type="email" name="email" value="user@email.com" required />
  </label><br />
  <label>
    ë¹„ë°€ë²ˆí˜¸:
    <input type="password" name="password" value="Password123!" required />
  </label><br />
  <button type="submit">ë¡œê·¸ì¸</button>
</form>

<div id="result" style="margin-top: 20px; color: green;"></div>

<script>
  const form = document.getElementById("loginForm");
  const resultBox = document.getElementById("result");

  form.onsubmit = async (e) => {
    e.preventDefault();

    const data = {
      email: form.email.value,
      password: form.password.value,
    };

    const res = await fetch("http://localhost:8080/api/v1/users/signin", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(data),
      credentials: "include", // âœ… ì¿ í‚¤ ì €ì¥ í•µì‹¬
    });

    const result = await res.json();

    if (res.ok) {
      resultBox.innerText = "âœ… ë¡œê·¸ì¸ ì„±ê³µ: " + result.message;
    } else {
      resultBox.innerText = "âŒ ë¡œê·¸ì¸ ì‹¤íŒ¨: " + result.message;
      resultBox.style.color = "red";
    }
  };
</script>
</body>
</html>
